

<button 
  (click)="frame.show()"
  type="button" 
  size="sm" 
  class="color-default" 
  data-toggle="modal" 
  data-target="#basicExample"
  mdbBtn 
  mdbWavesEffect
>Novo</button>

<div 
  mdbModal 
  [config]="{ignoreBackdropClick: true}"
  ignoreBackdropClick
  #frame="mdbModal" 
  class="modal fade left" 
  id="frameModalTop" 
  tabindex="-1" 
  role="dialog"
  aria-labelledby="myModalLabel" 
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header text-left color-default">
        <h4 class="modal-title w-100 font-weight-bold">Novo Endereço</h4>
        <button 
          type="button" 
          class="close" 
          data-dismiss="modal" 
          aria-label="Close" 
          (click)="frame.hide()"
        >
          <span aria-hidden="true" class="white-text">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-8 col-md-8">
            <div class="md-form my-1">
              <input 
                type="text"
                id="street" 
                [formControl]="control('street')" 
                class="form-control"
                mdbInput 
                mdbValidate
              >
              <label for="street">Rua</label>
              <mdb-error *ngIf="error('street','required')">
                Campo Obrigatório
              </mdb-error>
            </div>
          </div>
          <div class="col-4 col-md-4">
            <div class="md-form my-1">
              <input 
                type="number"
                id="number" 
                [formControl]="control('number')" 
                class="form-control"
                mdbInput 
                mdbValidate
              >
              <label for="number">N°</label>
              <mdb-error *ngIf="error('number','required'); else numberNumber">
                Campo Obrigatório
              </mdb-error>
              <ng-template #numberNumber>
                <mdb-error *ngIf="error('number','number')">Numero Invalido</mdb-error>
              </ng-template>
            </div>
          </div>
          <div class="col-6 col-md-6">
            <div class="md-form my-1">
              <input 
                type="text"
                id="complement" 
                [formControl]="control('complement')" 
                class="form-control"
                mdbInput 
                mdbValidate
              >
              <label for="complement">Complemento</label>
              <mdb-error *ngIf="error('complement','required')">
                Campo Obrigatório
              </mdb-error>
            </div>
          </div>
          <div class="col-6 col-md-6">
            <div class="md-form my-1">
              <input 
                type="text"
                id="neighborhood" 
                [formControl]="control('neighborhood')" 
                class="form-control"
                mdbInput 
                mdbValidate
              >
              <label for="neighborhood">Bairro</label>
              <mdb-error *ngIf="error('neighborhood','required')">
                Campo Obrigatório
              </mdb-error>
            </div>
          </div>
          <div class="col-4 col-md-4">
            <div class="md-form my-2">
              <input 
                type="text"
                id="cep" 
                [formControl]="control('cep')" 
                class="form-control"
                mdbInput 
                mdbValidate
              />
              <label for="cep">CEP</label>
              <mdb-error *ngIf="error('cep','required'); else cepCep">
                Campo Obrigatório
              </mdb-error>
              <ng-template #cepCep>
                <mdb-error *ngIf="error('cep','cep')">CEP Invalido</mdb-error>
              </ng-template>
            </div>
          </div>
          <div class="col-4 col-md-4">
            <div class="md-form my-2">
              <input 
                type="text"
                id="city" 
                [formControl]="control('city')" 
                class="form-control"
                mdbInput 
                mdbValidate
              >
              <label for="city">Cidade</label>
              <mdb-error *ngIf="error('city','required')">
                Campo Obrigatório
              </mdb-error>
            </div>
          </div>
          <div class="col-4 col-md-4">
            <ng-select 
              [items]="states_options"
              bindLabel="value"
              bindValue="key"
              [clearable]="false"
              [(ngModel)]="state">
            </ng-select>
          </div>
        </div> 
      </div>
      <div class="modal-footer d-flex justify-content-end">
        <button
          (click)="register()" 
          [disabled]="addressForm.invalid || _loading"
          class="waves-light color-default" 
          mdbBtn 
          mdbWavesEffect
        >
        <div *ngIf="!_loading; else loading_store">Cadastrar</div>
        <ng-template #loading_store>
          <div class="spinner-grow text-dark" role="status" *ngFor="let item of [1,2,3]">
            <span class="sr-only">Loading...</span>
          </div>
        </ng-template>
      
        </button>
      </div>
    </div>
  </div>
</div>
